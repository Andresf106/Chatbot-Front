<section class="appointments">

  <header class="appointments-header">
    <div>
      <h1>Mis Citas M√©dicas</h1>
      <p>Gestiona y consulta tus citas m√©dicas programadas</p>
    </div>

    <button class="new-btn" (click)="openCreateAppointments()">
      <span>Ôºã</span> Nueva Cita
    </button>
  </header>

  <div class="appointments-list">
    @for (a of appointments; track a.dia_cita) {
      <div class="appointment-card">
        <div class="card-header">
          <div class="date">
            <span class="icon">üìÖ</span>
            {{ a.dia_cita }}
          </div>
          <span
            class="status"
            [class.pending]="a.estado === 'Pendiente'"
            [class.confirmed]="a.estado === 'activo'"
          >
            {{ a.estado }}
          </span>
        </div>

        <div class="time">
          ‚è∞ {{ a.hora_cita }}
        </div>
        <div class="reason">
          <strong>Motivo</strong>
          <p>{{ a.motivo }}</p>
        </div>
      </div>
    }
  </div>

  <div class="appointments-create" [class.open]="showAppointments">

    <form class="appointment-form" [formGroup]="form" (ngSubmit)="submit()">

      <h2>Nueva Cita</h2>
      <div class="icon-close">
        <button (click)="closeCreateAppointments()">‚úï</button>
      </div>

      <div class="field">
        <label>D√≠a de la cita</label>
        <input type="date" formControlName="dia_cita" />
      </div>

      <div class="field">
        <label>Hora</label>
        <input type="time" formControlName="hora_cita" />
      </div>

      <div class="field">
        <label>Motivo</label>
        <textarea rows="3" formControlName="motivo"></textarea>
      </div>

      <div class="content-btn">
        <button class="cancel" type="submit" (click)="closeCreateAppointments()">cancelar</button>
        <button type="submit">Guardar cita</button>
      </div>

    </form>

  </div>

</section>


